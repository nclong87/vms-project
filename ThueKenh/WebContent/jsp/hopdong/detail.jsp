<%@ page language="java" contentType="text/html; charset=UTF-8"	pageEncoding="UTF-8"%><%@ taglib prefix="s" uri="/struts-tags"%><s:url action="findphulucByhopdong" namespace="/hopdong" id="findphulucByhopdongURL" /><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><%	String contextPath = request.getContextPath();%><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Reflect Template" /><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /><title>Xem chi tiết hợp đồng : <s:property value="detail.sohopdong"/></title><link rel="stylesheet" href="<%= contextPath %>/css/detailpage.css" type="text/css" media="screen" /><link rel="stylesheet" href="<%= contextPath %>/css/cupertino/jquery-ui.css" type="text/css" media="screen" /><link rel="stylesheet" href="<%= contextPath %>/css/demo_table_jui.css" /><script>var contextPath = '<%= contextPath %>';var baseUrl = contextPath;function byId(id) { //Viet tat cua ham document.getElementById	return document.getElementById(id);}</script><script type='text/javascript' src='<%= contextPath %>/js/jquery.js'></script><script type="text/javascript" src="<%=contextPath%>/js/trangthai_utils.js"></script><script type='text/javascript' src='<%= contextPath %>/js/jquery-ui.js'></script><script type='text/javascript' src='<%= contextPath %>/js/jquery.dataTables.min.js'></script></head><body>	<div id="bg_wrapper">		<h3>THÔNG TIN CHI TIẾT HỢP ĐỒNG</h3>		<dt>Số hợp đồng :</dt>		<dd><s:property value="detail.sohopdong"/></dd>		<dt>Loại hợp đồng :</dt>		<dd><s:property value="detail.loaihopdong"/></dd>		<dt>Đối tác :</dt>		<dd><s:property value="detail.doitac_id"/></dd>		<dt>Ngày ký hợp đồng :</dt>		<dd><s:property value="detail.ngayky"/></dd>		<dt>Ngày hết hạn :</dt>		<dd><s:property value="detail.ngayhethan"/></dd>		<dt>Danh sách phụ lục hợp đồng:</dt>		<dd>			<table width="100%" id="dataTable" class="display">			<thead>				<tr>					<th width="3px">STT</th>					<th width="30px">Tên phụ lục</th>					<th>Loại phụ lục</th>					<th>Đối tác</th>					<th>Loại phụ lục</th>					<th>Cước đấu nối hòa mạng</th>					<th width="50px">Giá trị trước thuế</th>					<th width="50px">Giá trị sau thuế</th>					<th width="50px">Ngày ký</th>					<th width="50px">Ngày có hiệu lực</th>				</tr>			</thead>			<tbody>			</tbody>			</table>		</dd>		<dt>Thông tin lịch sử :</dt>		<dd>			- TOANNB thêm mới (09/03/2012 9h22)<br/>			- TNHUY chỉnh sửa (09/03/2012 13h45)<br/>			- ...<br/>		</dd>	</div></body></html><script>var hopdong_id = '<s:property value="detail.id"/>';function addRow(stt,data) {	oTable.fnAddData([		stt,data.tenphuluc,data.loaiphuluc,data.cuocdaunoi,data.giatritruocthue,data.giatrisauthue,data.ngayky,data.ngayhieuluc	]);}$(document).ready(function() {	if(hopdong_id!='') {		oTable = $('#dataTable').dataTable({			"bJQueryUI": true,			"bProcessing": false,			"bScrollCollapse": true,			"bAutoWidth": true,			"bSort":false,			"bFilter": false,"bInfo": false,			"bPaginate" : false,			"sAjaxSource": "${findphulucByhopdongURL}?id="+hopdong_id,			"aoColumns": null,			"fnServerData": function ( sSource, aoData, fnCallback ) {				$.ajax( {					"dataType": 'json', 					"type": "POST", 					"url": sSource, 					"data": aoData, 					"success": function(response){						if(response.result == "ERROR") {							alert("Lỗi kết nối server, vui lòng thử lại.");						} else {							if(response.aaData.length != 0) {								var i = 0;								$.each(response.aaData,function(){									addRow(i+1,this);									i++;								});							} else {								oTable.fnAddData([0,'','','','','','','']);								oTable.fnDeleteRow(0);							}						}					}				} );			}		});	}});</script>