<%@ page language="java" contentType="text/html; charset=UTF-8"	pageEncoding="UTF-8"%><%@ taglib prefix="s" uri="/struts-tags"%><s:url action="findByDexuat" namespace="/tuyenkenhdexuat" id="findByDexuatURL" /><s:url action="detail" namespace="/tuyenkenh" id="detailTuyenKenhURL" /><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><%	String contextPath = request.getContextPath();%><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="description" content="Reflect Template" /><meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" /><title>Xem chi tiết văn bản đề xuất : <s:property value="detail.tenvanban"/></title><link rel="stylesheet" href="<%= contextPath %>/css/detailpage.css" type="text/css" media="screen" /><link rel="stylesheet" href="<%= contextPath %>/css/cupertino/jquery-ui.css" type="text/css" media="screen" /><link rel="stylesheet" href="<%= contextPath %>/css/demo_table_jui.css" /><script>var contextPath = '<%= contextPath %>';var baseUrl = contextPath;function byId(id) { //Viet tat cua ham document.getElementById	return document.getElementById(id);}</script><script type='text/javascript' src='<%= contextPath %>/js/jquery.js'></script><script type="text/javascript" src="<%=contextPath%>/js/trangthai_utils.js"></script><script type='text/javascript' src='<%= contextPath %>/js/jquery-ui.js'></script><script type='text/javascript' src='<%= contextPath %>/js/jquery.dataTables.min.js'></script><style>.dataTables_wrapper .ui-toolbar {  display: none;  padding: 5px;}</style></head><body>	<div id="bg_wrapper">		<h3>THÔNG TIN CHI TIẾT VĂN BẢN ĐỀ XUẤT</h3>		<dt>Tên văn bản :</dt>		<dd><s:property value="detail.tenvanban"/>&nbsp;</dd>		<dt>Ngày gửi :</dt>		<dd><s:property value="detail.ngaygui"/>&nbsp;</dd>		<dt>Ngày đề nghị bàn giao :</dt>		<dd><s:property value="detail.ngaydenghibangiao"/>&nbsp;</dd>		<dt>Đối tác :</dt>		<dd><s:property value="detail.tendoitac"/>&nbsp;</dd>		<dt>Thông tin thêm :</dt>		<dd><s:property value="detail.thongtinthem"/>&nbsp;</dd>		<dt>File Scan :</dt>		<dd><a href='/upload/<s:property value="detail.filepath"/>' title="Tải bản cứng văn bản đề xuất"><s:property value="detail.filename"/></a>&nbsp;</dd>		<dt>Danh sách tuyến kênh thuộc văn bản đề xuất:</dt>		<dd>			<table width="100%" id="dataTable" class="display">			<thead>				<tr>					<th width="5%" align="center">#</th>					<th>Mã kênh</th>					<th>Mã điểm đầu</th>					<th>Mã điểm cuối</th>					<th>Giao tiếp</th>					<th>Dung lượng</th>					<th>Số lượng đề xuất</th>					<th>Ngày đề nghị BG</th>					<th>Ngày hẹn BG</th>				</tr>			</thead>			<tbody>							</tbody>			</table>		</dd>	</div></body></html><script>var dexuat_id = '<s:property value="detail.id"/>';function addRow(stt,data) {	oTable.fnAddData([		stt,'<a href="${detailTuyenKenhURL}?id='+data.tuyenkenh_id+'" target="_blank">'+data.tuyenkenh_id+'</a>',data.madiemdau,data.madiemcuoi,data.loaigiaotiep,data.dungluong,data.soluong,data.ngaydenghibangiao,data.ngayhenbangiao	]);}$(document).ready(function() {	if(dexuat_id!='') {		oTable = $('#dataTable').dataTable({			"bJQueryUI": true,			"bProcessing": false,			"bScrollCollapse": true,			"bAutoWidth": true,			"bSort":false,			"bFilter": false,"bInfo": false,			"bPaginate" : false,			"sAjaxSource": "${findByDexuatURL}?id="+dexuat_id,			"aoColumns": null,			"fnServerData": function ( sSource, aoData, fnCallback ) {				$.ajax( {					"dataType": 'json', 					"type": "POST", 					"url": sSource, 					"data": aoData, 					"success": function(response){						if(response.result == "ERROR") {							alert("Lỗi kết nối server, vui lòng thử lại.");						} else {							if(response.aaData.length != 0) {								var i = 0;								$.each(response.aaData,function(){									addRow(i,this);									i++;								});							} else {								oTable.fnAddData([0,'','','','','','','','','']);								oTable.fnDeleteRow(0);							}						}					}				} );			}		});	}});</script>